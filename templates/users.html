{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
<h3>Users</h3>
</div>
<div class="card mb-4"><div class="card-body">
<form class="row g-2" method="post" action="{{ url_for('admin.add_user') }}">
<div class="col-md-4"><input class="form-control" name="email" type="email"
placeholder="Email" required></div>
<div class="col-md-3"><input class="form-control" name="password"
type="password" placeholder="Password" required></div>
<div class="col-md-2 form-check d-flex align-items-center">
<input class="form-check-input me-2" name="is_admin" type="checkbox"
id="is_admin">
<label class="form-check-label" for="is_admin">Admin</label>
</div>
<div class="col-md-3"><button class="btn btn-primary w-100" type="submit">Add
User</button></div>
</form>
</div></div>
<table class="table table-striped">
<thead><tr><th>ID</th><th>Email</th><th>Admin</th><th>Created</th><th></th></
tr></thead>
<tbody>
{% for u in users %}
<tr>
<td>{{ u.id }}</td>
<td>{{ u.email }}</td>
<td>{% if u.is_admin %}✔{% else %}—{% endif %}</td>
<td>{{ u.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
<td class="text-end">
<form method="post" action="{{ url_for('admin.delete_user',
user_id=u.id) }}" onsubmit="return confirm('Delete user {{ u.email }}?');">
<button class="btn btn-sm btn-outline-danger" type="submit">Delete</
button>
</form>
</td>
</tr>
{% endfor %}
</tbody>
</table>
{% endblock %}
